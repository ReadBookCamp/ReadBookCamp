(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/EDR":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"23aj":function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),o=n("HaE+"),i=n("q1tI"),c=n.n(i),u=n("vcXL"),s=n.n(u),l=n("ODXe"),f=n("aIn9"),p=n("LvDl"),m=n("rgdJ"),d=c.a.createElement;function h(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()(t).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=Object(f.a)("gh_access_token"),n=Object(l.a)(t,3),r=n[0],u=(n[1],n[2]),b=Object(f.a)("gh_user_info"),v=Object(l.a)(b,3),w=v[0],x=v[1],y=v[2],k=Object(i.useState)(!1),N=k[0],j=k[1],C=Object(i.useState)(""),O=C[0],T=C[1],S="https://github.com/login/oauth/authorize?client_id=".concat(m.a,"&scope=user");Object(i.useEffect)((function(){Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||w){e.next=10;break}return e.next=3,s()("/api/github/userInfo?token=".concat(r)).then((function(e){return e.json()}));case 3:if(t=e.sent,(n=t.data).login){e.next=8;break}return alert("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25"),e.abrupt("return");case 8:x(JSON.stringify(Object(p.pick)(n,["login","id","name","email"]))),location.reload();case 10:case"end":return e.stop()}}),e)})))()}),[]);var _=w&&"undefined"!==w?JSON.parse(w):{},E=_.login&&e.members.some((function(e){return e.name===_.login}));function R(){return(R=Object(o.a)(a.a.mark((function e(){var t,n,r,o,i,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("\u6b63\u5728\u68c0\u67e5\u662f\u5426\u5df2\u52a0\u5165..."),e.next=3,h("/api/github/memberStatus");case 3:if(t=e.sent,n=t.data,r=n.exists,o=n.blocked,i=n.membersCount,!o){e.next=12;break}return T("\u52a0\u5165\u5931\u8d25\uff0c\u4f60\u5df2\u9000\u51fa\u8be5\u7ec4\u7ec7\u3002"),j(!0),e.abrupt("return");case 12:if(!r){e.next=16;break}return T("\u52a0\u5165\u5931\u8d25\uff0c\u4f60\u5df2\u662f\u8be5\u7ec4\u7ec7\u6210\u5458\u3002"),j(!0),e.abrupt("return");case 16:return T("\u6b63\u5728\u68c0\u67e5\u6210\u5458\u6570..."),e.next=19,g(800);case 19:if(!(i>m.b)){e.next=22;break}return T("\u52a0\u5165\u5931\u8d25\uff0c\u6210\u5458\u6682\u65f6\u5df2\u6ee1\u3002"),e.abrupt("return");case 22:return T("\u6b63\u5728\u5c1d\u8bd5\u52a0\u5165..."),e.next=25,h("/api/github/join");case 25:c=e.sent,u=c.data,T(u?"\ud83d\udc4d\uff0c\u52a0\u5165\u6210\u529f\uff01":"\u52a0\u5165\u5931\u8d25"),u&&j(!0);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d("div",{className:"py-8 px-2"},d("div",{className:"flex flex-row content-center items-center"},d("div",{className:"font-bold text-orange-700 flex flex-row flex-wrap content-center items-center text-center mx-auto"},r?_.login?O?d("div",null,O):d(c.a.Fragment,null,d("span",null,"Hi, ",_.login,E?"\uff0c\u4f60\u5df2\u662f\u65e9\u9e1f\u8425\u6210\u5458":"","\uff01\u4f60\u53ef\u4ee5\u9009\u62e9"),E?null:d(c.a.Fragment,null,d("button",{className:"btn btn-orange mx-1",onClick:function(){return R.apply(this,arguments)}},"\u52a0\u5165\u65e9\u9e1f\u8425"),d("span",null,"\u6216")),d("button",{className:"btn btn-gray mx-1",onClick:function(){u(),y(),location.reload()}},"\u9000\u51fa\u767b\u5f55"),d("span",null,"\u3002")):d("div",null,"\u6b63\u5728\u83b7\u53d6\u7528\u6237\u4fe1\u606f..."):d(c.a.Fragment,null,d("svg",{className:"inline-block mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},d("path",{className:"heroicon-ui",d:"M16.21 16.95a5 5 0 0 1-4.02 4.9l-3.85.77a1 1 0 0 1-.9-.27l-.71-.7a2 2 0 0 1 0-2.83l1.44-1.45a13.17 13.17 0 0 1-1.42-1.41L5.31 17.4a2 2 0 0 1-2.83 0l-.7-.7a1 1 0 0 1-.28-.9l.77-3.86a5 5 0 0 1 4.9-4.02h.86a13.07 13.07 0 0 1 12.82-5.47 1 1 0 0 1 .83.83A12.98 12.98 0 0 1 16.2 16.1v.85zm-4.41 2.94a3 3 0 0 0 2.41-2.94v-1.4a1 1 0 0 1 .47-.84A11.04 11.04 0 0 0 19.8 4.33 10.98 10.98 0 0 0 9.42 9.45a1 1 0 0 1-.85.47h-1.4a3 3 0 0 0-2.94 2.4l-.66 3.34.33.33 2.24-2.24a1 1 0 0 1 1.52.12 11.08 11.08 0 0 0 2.6 2.6 1 1 0 0 1 .12 1.52l-2.24 2.24.33.33 3.33-.67zM15 10a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"})),d("span",null,"\u8981\u52a0\u5165\u6216\u67e5\u770b\u81ea\u5df1\u7684 HP \u4fe1\u606f\uff0c\u8bf7\u5148"),d("a",{className:"btn btn-orange mx-1",href:S},"\u901a\u8fc7 Github \u767b\u5f55"),d("span",null,"\u3002")))),N||E?d("div",{className:"mt-8 mb-5 leading-loose flex flex-col content-center flex-wrap"},d("div",{className:"text-gray-700 lg:w-1/2 sm:w-3/4"},"\u63a5\u4e0b\u6765\uff0c\u4f60\u53ef\u4ee5\uff1a",d("br",null),"1. \u8bbf\u95ee"," ",d("a",{target:"_blank",href:"https://github.com/orgs/ReadBookCamp/invitation"},"orgs/ReadBookCamp/invitation")," ","\u63a5\u53d7\u9080\u8bf7\uff0c\u63a5\u53d7\u540e\u624d\u7b97\u6b63\u5f0f\u52a0\u5165\uff0c\u5e76\u5f00\u59cb\u8ba1\u65f6\u6263 HP",d("br",null),"2. \u9605\u8bfb",d("a",{href:"https://github.com/ReadBookCamp/ReadBookCamp/issues/1",target:"_blank"},"\u300a\u65e9\u9e1f\u8425\u8be6\u7ec6\u89c4\u5219\u300b"),d("br",null),"3. \u8bbf\u95ee",d("a",{href:"https://github.com/ReadBookCamp/articles/issues",target:"_blank"},"\u6587\u7ae0\u533a"),"\u5f00\u59cb\u5199\u6587\u7ae0\uff08FAQ\uff1a\u5982\u9047 404 \u9519\u8bef\uff0c\u5148\u63a5\u53d7\u9080\u8bf7\uff09",d("br",null),"4. \u626b\u7801\u6dfb\u52a0 UmiJS \u5c0f\u52a9\u624b\uff0c\u5e76\u56de\u590d ",d("strong",null,"ReadBookCamp")," ","\u52a0\u4ea4\u6d41\u7fa4",d("img",{src:"https://img.alicdn.com/tfs/TB1pd1ce8r0gK0jSZFnXXbRRXXa-430-430.jpg",width:"100"}))):null)},x=["second","minute","hour","day","week","month","year"],y=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"],k={},N=function(e,t){k[e]=t},j=function(e){return k[e]||k.en_US},C=[60,60,24,7,365/7/12,12];function O(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function T(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),a=0;e>=C[a]&&a<C.length;a++)e/=C[a];return(e=Math.floor(e))>(0===(a*=2)?9:1)&&(a+=1),t(e,a,r)[n].replace("%s",e.toString())}function S(e,t){return(+(t?O(t):new Date)-+O(e))/1e3}N("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=x[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),N("zh_CN",(function(e,t){if(0===t)return["\u521a\u521a","\u7247\u523b\u540e"];var n=y[~~(t/2)];return[e+" "+n+"\u524d",e+" "+n+"\u540e"]}));var _=c.a.createElement,E=function(e){var t=Object(f.a)("gh_user_info"),n=Object(l.a)(t,1)[0],r=n&&"undefined"!==n?JSON.parse(n):{};return _("div",{className:"px-2 py-8 flex flex-col content-center flex-wrap bg-blue-100 shadow-inner"},_("div",{className:"text-gray-700 lg:w-1/2 sm:w-3/4"},_("h2",{className:"text-xl mb-3"},"\u6210\u5458\u5217\u8868\uff08TOP 100\uff09"),_("div",null,_("div",{className:"mb-2 flex flex-wrap flex-row font-bold text-gray-500"},_("div",{className:"flex-1"},"Github \u4fe1\u606f"),_("div",{className:"w-1/4 sm:w-20 text-right"},"HP"),_("div",{className:"w-1/4 sm:w-40 hidden sm:block text-right"},"\u52a0\u5165\u65f6\u95f4"),_("div",{className:"w-1/4 sm:w-20 text-right"},"\u6587\u7ae0\u6570")),e.members.sort((function(e,t){return e.hp>t.hp?-1:1})).slice(0,100).map((function(e,t){var n,a,o=e.name===r.login;return _("div",{key:e.name,className:"mb-1 flex flex-wrap flex-row ".concat(o?"bg-gray-300":"")},_("div",{className:"flex-1"},_("a",{href:"https://github.com/".concat(e.name),target:"_blank"},e.name),o?_("span",{className:"ml-2 text-red-500"},"\u2190 \u8fd9\u662f\u4f60"):null),_("div",{className:"w-1/4 sm:w-20 text-right"},e.hp),_("div",{className:"w-1/4 sm:w-40 hidden sm:block text-right"},T(S(e.joined_at,a&&a.relativeDate),j(n))),_("div",{className:"w-1/4 sm:w-20 text-right"},e.articles.length))})))))},R=c.a.createElement;t.default=function(){var e=Object(i.useState)([]),t=e[0],n=e[1];return Object(i.useEffect)((function(){Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()("/api/members/list").then((function(e){return e.json()}));case 2:t=e.sent,n(t.members);case 4:case"end":return e.stop()}}),e)})))()}),[]),R("div",null,R("div",{className:"px-2"},R("div",{className:"flex flex-col content-center flex-wrap mb-2"},R("div",{className:"flex flex-col content-center flex-wrap"},R("img",{src:"https://img.alicdn.com/tfs/TB1cCrxFCf2gK0jSZFPXXXsopXa-289-285.jpg",width:"100"})),R("div",{className:"text-center text-3xl font-sans my-5"},"ReadBookCamp")),R("div",{className:"flex flex-col content-center flex-wrap"},R("div",{className:"text-gray-700 lg:w-1/2 sm:w-3/4"},"Hi\uff01\u8fd9\u662f\u4e00\u4e2a\u673a\u5668\u4eba\u7ba1\u7406\u7684\u524d\u7aef\u5c0f\u793e\u7fa4\uff0c\u5e0c\u671b\u80fd\u901a\u8fc7",R("a",{href:"https://github.com/ReadBookCamp/ReadBookCamp/issues/1",target:"_blank"},"\u201c\u6709\u8da3\u201d\u7684\u7c7b\u6e38\u620f\u89c4\u5219"),"\u903c\u81ea\u5df1\u517b\u6210\u6bcf\u5468\u5199\u4e00\u7bc7\u524d\u7aef\u6587\u7ae0\u7684\u4e60\u60ef\uff0c\u76ee\u524d\u5df2\u6709"," ",R("strong",{className:"text-orange-700"},t.length||"...")," ","\u4eba\u52a0\u5165\uff08\u8d77\u6b65\u9636\u6bb5\uff0c\u6682\u9650 100 \u4eba\uff09\u3002",R("strong",null,"\u521d\u59cb HP \u4e3a 14\uff0c\u6bcf\u5199\u4e00\u7bc7 +7\uff0c\u6bcf\u5929 -1\uff0cHP \u4e3a 0 \u65f6\u9000\u7fa4\u3002"),"\u5982\u679c\u4f60\u548c\u6211\u4eec\u4e00\u6837\uff0c\u60f3\u5199\u6587\u7ae0\u53c8\u6ca1\u4eba\u76d1\u7763\uff0c\u4e0d\u59a8\u4e00\u8bd5\u3002"))),0===t.length?R("div",{className:"text-center font-bold mt-8 text-orange-700"},"Loading..."):R(c.a.Fragment,null,R(w,{members:t}),R(E,{members:t})))}},"8oxB":function(e,t){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&m())}function m(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new d(e,t)),1!==s.length||l||c(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,u,"next",e)}function u(e){r(i,a,o,c,u,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return a}))},ODXe:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},aIn9:function(e,t,n){"use strict";var r=n("q1tI"),a=n("p46w"),o=n.n(a);t.a=function(e){var t=Object(r.useState)((function(){return o.a.get(e)||null})),n=t[0],a=t[1];return[n,Object(r.useCallback)((function(t,n){o.a.set(e,t,n),a(t)}),[e]),Object(r.useCallback)((function(){o.a.remove(e),a(null)}),[e])]}},o0o1:function(e,t,n){e.exports=n("ls82")},p46w:function(e,t,n){var r,a;!function(o){if(void 0===(a="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=a),!0,e.exports=o(),!!0){var i=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=i,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function a(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(s){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var u in o)o[u]&&(c+="; "+u,!0!==o[u]&&(c+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+c}}function i(e,n){if("undefined"!==typeof document){for(var a={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var c=o[i].split("="),u=c.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=t(c[0]);if(u=(r.read||r)(u,s)||t(u),n)try{u=JSON.parse(u)}catch(l){}if(a[s]=u,e===s)break}catch(l){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return i(e,!1)},a.getJSON=function(e){return i(e,!0)},a.remove=function(t,n){o(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},rgdJ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="a30d158a961c62c23980",a=(e.env.LEARN_CLIENT_SECRET,100)}).call(this,n("8oxB"))},vcXL:function(e,t,n){"use strict";var r=self.fetch.bind(self);e.exports=r,e.exports.default=e.exports},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n}},[["/EDR",0,2,4,1]]]);